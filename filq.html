<!DOCTYPE html>
<html>
<head>
    <title>Install Sidebar</title>
</head>
<body>
    <div id="sidebar" style="display: none;">
        <p>Sidebar is working!</p>
    </div>

    <button id="burger-menu" style="display: none;">ğŸ”</button>

    <button id="installSidebarBtn">ğŸ“¥ Install Sidebar</button>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let sidebar = document.getElementById("sidebar");
            let burgerMenu = document.getElementById("burger-menu");
            let installBtn = document.getElementById("installSidebarBtn");

            function updateUI() {
                if (localStorage.getItem("sidebarInstalled")) {
                    console.log("âœ… Sidebar Installed â†’ Showing burger & sidebar");
                    sidebar.style.display = "block";
                    burgerMenu.style.display = "block";
                    installBtn.innerHTML = "â Uninstall Sidebar";
                } else {
                    console.log("ğŸš« Sidebar NOT Installed â†’ Hiding burger & sidebar");
                    sidebar.style.display = "none";
                    burgerMenu.style.display = "none";
                    installBtn.innerHTML = "ğŸ“¥ Install Sidebar";
                }
            }

            function installSidebar() {
                console.log("ğŸ“¥ Installing sidebar...");
                localStorage.setItem("sidebarInstalled", "true");
                updateUI();
            }

            function uninstallSidebar() {
                console.log("â Removing sidebar...");
                localStorage.removeItem("sidebarInstalled");
                updateUI();
            }

            installBtn.addEventListener("click", function () {
                if (localStorage.getItem("sidebarInstalled")) {
                    uninstallSidebar();
                } else {
                    installSidebar();
                }
            });

            // Ensure correct UI state on page load
            updateUI();
        });
    </script>
</body>
</html>